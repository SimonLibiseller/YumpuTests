<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Player Test</title>
</head>
<body>
<h1>Video Player Test</h1>
<!--www.yumpu.com/video/view/USER_ID-VIDEO_HASH-->
<div>
    <script>
        var defaultColor = '#0082b2';

        var allScripts = document.getElementsByTagName('script');
        var currentScript = allScripts[allScripts.length-1];
        var fp_color = currentScript.getAttribute('data-color') || defaultColor;

        var fp_css = document.createElement( 'link' );
        fp_css.href = '//releases.flowplayer.org/6.0.5/skin/minimalist.css';
        fp_css.type = 'text/css';
        fp_css.rel = 'stylesheet';
        document.getElementsByTagName('head')[0].appendChild(fp_css);

        var custom_css = '.flowplayer .fp-progress{background-color: ' + fp_color + '}' +
                '.flowplayer .fp-volumelevel{background-color: ' + fp_color + '}' +
                '.flowplayer .fp-logo {display: block; opacity: 0.5;}';
        var fp_custom_css = document.createElement('style');
        fp_custom_css.type = 'text/css';
        fp_custom_css.appendChild(document.createTextNode(custom_css));
        document.getElementsByTagName('head')[0].appendChild(fp_custom_css);

        var fp_script = document.createElement('script');
        fp_script.src = '//releases.flowplayer.org/6.0.5/commercial/flowplayer.min.js';
        document.body.appendChild(fp_script);

        var segment_script = document.createElement('script');
        segment_script.setAttribute('type', 'text/javascript');
        segment_script.innerHTML = "!(function () { var analytics = window.analytics = window.analytics || []; if (analytics.initialize) return; if (analytics.invoked) { if (window.console && console.error) { console.error('Segment snippet included twice.'); } return; } analytics.invoked = true; analytics.methods = ['trackSubmit', 'trackClick', 'trackLink', 'trackForm', 'pageview', 'identify', 'reset', 'group', 'track', 'ready', 'alias', 'page', 'once', 'off', 'on']; analytics.factory = function (method) { return function () { var args = Array.prototype.slice.call(arguments); args.unshift(method); analytics.push(args); return analytics; }; }; for (var i = 0; i < analytics.methods.length; i++) { var key = analytics.methods[i]; analytics[key] = analytics.factory(key); } analytics.load = function (key) { var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true; script.src = ('https:' === document.location.protocol ? 'https://' : 'http://') + 'cdn.segment.com/analytics.js/v1/' + key + '/analytics.min.js'; var first = document.getElementsByTagName('script')[0]; first.parentNode.insertBefore(script, first); }; analytics.SNIPPET_VERSION = '3.1.0'; analytics.load('Wi5icaNRcZyeUzsQNl2SuOTkuKiIDk9A'); analytics.page('Video Embed'); })();";
        //document.body.appendChild(segment_script);

        var fp_container = document.createElement('div');
        fp_container.className = 'play-button';
        currentScript.parentNode.replaceChild(fp_container, currentScript);

        window.addEventListener('load', function () {
            flowplayer(function (api) {
                api.embedCode = function () {
                    return 'bla';
    };
    });
    flowplayer(fp_container, {
    key: '$838774415619153',
    logo: '',
    clip: {
    sources: [
    {
    type: 'video/mp4',
    src: 'https://s3-eu-west-1.amazonaws.com/yumpu/TeaserVideos/14822/437/668/310/1482243766_8310-Teaser-generic-720p.mp4'
    }
    ]
    }
    });
    });
    </script>
</div>
</body>
</html>
